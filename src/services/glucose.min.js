// @ts-nocheck
import { supabase } from"@/lib/supabase";export async function insertGlucose(e){const r=["user_id","device_time","value_mgdl"];for(const t of r)if(void 0===e[t]||null===e[t]||""===e[t])throw new Error(`Missing required field: ${t}`);const t={user_id:e.user_id,device_time:new Date(e.device_time).toISOString(),value_mgdl:Number(e.value_mgdl),trend:e.trend??null,source:e.source??"manual",reading_type:e.reading_type??null,note:e.note??null,timezone_offset_min:e.timezone_offset_min??null,created_at:(new Date).toISOString()},{error:n}=await supabase.from("glucose_readings").insert(t);if(n)throw n;return{ok:!0}}