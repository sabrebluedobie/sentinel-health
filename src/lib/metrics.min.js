// @ts-nocheck
export function daysBack(t,e=new Date){const n=[];for(let o=t-1;o>=0;o--){const t=new Date(e);t.setDate(t.getDate()-o),n.push(t)}return n}export function fmt(t){return new Date(t).toISOString().slice(0,10)}export function countByDate(t,e){const n={};return t.forEach((t=>{const o=fmt(t[e]||t.date||t.start_time||t.device_time||t.created_at);n[o]=(n[o]||0)+1})),n}export function avgByDate(t,e,n){const o={},a={};t.forEach((t=>{const r=fmt(t[e]),c=Number(t[n]);isFinite(c)&&(o[r]=(o[r]||0)+c,a[r]=(a[r]||0)+1)}));const r={};return Object.keys(o).forEach((t=>r[t]=+(o[t]/a[t]).toFixed(1))),r}export function sumByDateMinutes(t){const e={};return t.forEach((t=>{const n=fmt(t.start_time||t.date),o=new Date(t.start_time),a=new Date(t.end_time),r=Math.max(0,(a-o)/6e4);e[n]=(e[n]||0)+r})),e}